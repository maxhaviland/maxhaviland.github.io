{"version":3,"sources":["../../src/dom.ts"],"names":["win","window","e","getWindow","node","ownerDocument","defaultView","checkIsBrowser","Boolean","document","createElement","isBrowser","normalizeEventKey","event","key","keyCode","isArrowKey","indexOf","eventKey","dataAttr","condition","undefined","ariaAttr","getDocument","cx","classNames","filter","join","getActiveElement","doc","activeElement","contains","parent","child"],"mappings":"AAGA,IAAIA,GAAJ;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AACA,IAAI;AACFA,EAAAA,GAAG,GAAGC,MAAN;AACD,CAFD,CAEE,OAAOC,CAAP,EAAU;AACV;AACD;AAED;AACA;AACA;AACA;;;AACA,OAAO,IAAMC,SAAS,GAAIC,IAAD;AAAA;;AAAA,kCACvBA,IADuB,2CACvBA,IAAI,CAAEC,aADiB,qBACvB,oBAAqBC,WADE,oCACaN,GADb;AAAA,CAAlB;AAGP;AACA;AACA;;AACA,SAASO,cAAT,GAA0B;AACxB,MAAMP,GAAG,GAAGG,SAAS,EAArB;AACA,SAAOK,OAAO,CACZ,OAAOR,GAAP,KAAe,WAAf,IAA8BA,GAAG,CAACS,QAAlC,IAA8CT,GAAG,CAACS,QAAJ,CAAaC,aAD/C,CAAd;AAGD;;AAED,OAAO,IAAMC,SAAS,GAAGJ,cAAc,EAAhC;AAEP;AACA;AACA;AACA;;AACA,OAAO,SAASK,iBAAT,CAA2BC,KAA3B,EAAuD;AAC5D,MAAM;AAAEC,IAAAA,GAAF;AAAOC,IAAAA;AAAP,MAAmBF,KAAzB;AAEA,MAAMG,UAAU,GACdD,OAAO,IAAI,EAAX,IAAiBA,OAAO,IAAI,EAA5B,IAAkCD,GAAG,CAACG,OAAJ,CAAY,OAAZ,MAAyB,CAD7D;AAGA,MAAMC,QAAQ,GAAGF,UAAU,aAAWF,GAAX,GAAmBA,GAA9C;AAEA,SAAOI,QAAP;AACD;AAED,OAAO,IAAMC,QAAQ,GAAIC,SAAD,IACrBA,SAAS,GAAG,EAAH,GAAQC,SADb;AAGP,OAAO,IAAMC,QAAQ,GAAIF,SAAD,IACtBA,SAAS,GAAG,IAAH,GAAUC,SADd;AAGP,OAAO,IAAME,WAAW,GAAInB,IAAD,IACxB,CAAAA,IAAI,QAAJ,YAAAA,IAAI,CAAEC,aAAN,KAAuBM,SAAvB,GAAmCF,QAAnC,GAA8C,IAD1C;AAGP,OAAO,IAAMe,EAAE,GAAG,SAALA,EAAK;AAAA,oCAAIC,UAAJ;AAAIA,IAAAA,UAAJ;AAAA;;AAAA,SAA0BA,UAAU,CAACC,MAAX,CAAkBlB,OAAlB,EAA2BmB,IAA3B,CAAgC,GAAhC,CAA1B;AAAA,CAAX;AAEP,OAAO,SAASC,gBAAT,CAA0BxB,IAA1B,EAA8C;AACnD,MAAMyB,GAAG,GAAGN,WAAW,CAACnB,IAAD,CAAvB;AACA,SAAOyB,GAAP,oBAAOA,GAAG,CAAEC,aAAZ;AACD;AAED,OAAO,SAASC,QAAT,CAAkBC,MAAlB,EAAuCC,KAAvC,EAA2D;AAChE,SAAOD,MAAM,KAAKC,KAAX,IAAoBD,MAAM,CAACD,QAAP,CAAgBE,KAAhB,CAA3B;AACD","sourcesContent":["import * as React from \"react\"\nimport { Booleanish, EventKeys } from \"./types\"\n\nlet win: Window | undefined\n\n/**\n * Note: Accessing \"window\" in IE11 is somewhat expensive, and calling \"typeof window\"\n * hits a memory leak, whereas aliasing it and calling \"typeof win\" does not.\n * Caching the window value at the file scope lets us minimize the impact.\n *\n * @see IE11 Memory Leak Issue https://github.com/microsoft/fluentui/pull/9010#issuecomment-490768427\n */\ntry {\n  win = window\n} catch (e) {\n  /* no-op */\n}\n\n/**\n * Helper to get the window object. The helper will make sure to use a cached variable\n * of \"window\", to avoid overhead and memory leaks in IE11.\n */\nexport const getWindow = (node?: HTMLElement | null) =>\n  node?.ownerDocument?.defaultView ?? win\n\n/**\n * Check if we can use the DOM. Useful for SSR purposes\n */\nfunction checkIsBrowser() {\n  const win = getWindow()\n  return Boolean(\n    typeof win !== \"undefined\" && win.document && win.document.createElement,\n  )\n}\n\nexport const isBrowser = checkIsBrowser()\n\n/**\n * Get the normalized event key across all browsers\n * @param event keyboard event\n */\nexport function normalizeEventKey(event: React.KeyboardEvent) {\n  const { key, keyCode } = event\n\n  const isArrowKey =\n    keyCode >= 37 && keyCode <= 40 && key.indexOf(\"Arrow\") !== 0\n\n  const eventKey = isArrowKey ? `Arrow${key}` : key\n\n  return eventKey as EventKeys\n}\n\nexport const dataAttr = (condition: boolean | undefined) =>\n  (condition ? \"\" : undefined) as Booleanish\n\nexport const ariaAttr = (condition: boolean | undefined) =>\n  condition ? true : undefined\n\nexport const getDocument = (node?: HTMLElement | null) =>\n  (node?.ownerDocument || isBrowser ? document : null) as Document | null\n\nexport const cx = (...classNames: any[]) => classNames.filter(Boolean).join(\" \")\n\nexport function getActiveElement(node?: HTMLElement) {\n  const doc = getDocument(node)\n  return doc?.activeElement as HTMLElement\n}\n\nexport function contains(parent: HTMLElement, child: HTMLElement) {\n  return parent === child || parent.contains(child)\n}\n"],"file":"dom.js"}